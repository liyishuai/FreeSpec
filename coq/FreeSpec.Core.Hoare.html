<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>FreeSpec.Core.Hoare</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library FreeSpec.Core.Hoare</h1>

<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ExtLib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Functor</span> <span class="id" title="library">Applicative</span> <span class="id" title="library">Monad</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">FreeSpec.Core</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="FreeSpec.Core.Interface.html#"><span class="id" title="library">Interface</span></a> <a class="idref" href="FreeSpec.Core.Impure.html#"><span class="id" title="library">Impure</span></a> <a class="idref" href="FreeSpec.Core.Contract.html#"><span class="id" title="library">Contract</span></a>.<br/>

<br/>
</div>

<div class="doc">
To reason about impure computations, we introduce the “Hoare
    monad,” also called the “specification monad.” An instance of the
    specification monad is a couple of <span class="inlinecode"><a class="idref" href="FreeSpec.Core.Hoare.html#pre"><span class="id" title="projection">pre</span></a></span> and <span class="inlinecode"><a class="idref" href="FreeSpec.Core.Hoare.html#post"><span class="id" title="projection">post</span></a></span> conditions,
    such that <span class="inlinecode"><a class="idref" href="FreeSpec.Core.Hoare.html#pre"><span class="id" title="projection">pre</span></a></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">σ</span> means the program specified by <span class="inlinecode"><span class="id" title="var">p</span></span> can be
    executed safely from a state <span class="inlinecode">σ</span>, and <span class="inlinecode"><a class="idref" href="FreeSpec.Core.Hoare.html#post"><span class="id" title="projection">post</span></a></span> <span class="inlinecode"><span class="id" title="var">p</span></span> <span class="inlinecode">σ</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">σ'</span> means the
    execution of <span class="inlinecode"><span class="id" title="var">p</span></span> from <span class="inlinecode">σ</span> may compute a result <span class="inlinecode"><span class="id" title="var">x</span></span> and bring the
    system to a state <span class="inlinecode">σ'</span>.

<div class="paragraph"> </div>

    We equip this couple of predicate with a <span class="inlinecode"><span class="id" title="method">bind</span></span> function to
    sequentially compose specifications. 
<div class="paragraph"> </div>

<a id="lab31"></a><h1 class="section">Definition</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <a id="hoare" class="idref" href="#hoare"><span class="id" title="record">hoare</span></a> (<a id="0101b9beac487b383a5ba2a8f6922788" class="idref" href="#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="binder">Σ</span></a> : <span class="id" title="keyword">Type</span>) (<a id="dbe7daa3f4200dd60831b0ac13fea06b" class="idref" href="#dbe7daa3f4200dd60831b0ac13fea06b"><span class="id" title="binder">α</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<a id="mk_hoare" class="idref" href="#mk_hoare"><span class="id" title="constructor">mk_hoare</span></a> { <a id="pre" class="idref" href="#pre"><span class="id" title="projection">pre</span></a> : <a class="idref" href="FreeSpec.Core.Hoare.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a id="post" class="idref" href="#post"><span class="id" title="projection">post</span></a> : <a class="idref" href="FreeSpec.Core.Hoare.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#dbe7daa3f4200dd60831b0ac13fea06b"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#0101b9beac487b383a5ba2a8f6922788"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="FreeSpec.Core.Hoare.html#mk_hoare"><span class="id" title="constructor">mk_hoare</span></a> {<span class="id" title="var">Σ</span> <span class="id" title="var">α</span>} (<span class="id" title="var">pre</span> <span class="id" title="var">post</span>).<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="FreeSpec.Core.Hoare.html#pre"><span class="id" title="projection">pre</span></a> {<span class="id" title="var">Σ</span> <span class="id" title="var">α</span>} (<span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="FreeSpec.Core.Hoare.html#post"><span class="id" title="projection">post</span></a> {<span class="id" title="var">Σ</span> <span class="id" title="var">α</span>} (<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="hoare_pure" class="idref" href="#hoare_pure"><span class="id" title="definition">hoare_pure</span></a> {<a id="f525610baade8c1419220d275a93fff0" class="idref" href="#f525610baade8c1419220d275a93fff0"><span class="id" title="binder">Σ</span></a> <a id="2da0b50a22a61fa2ece028fab9967e32" class="idref" href="#2da0b50a22a61fa2ece028fab9967e32"><span class="id" title="binder">α</span></a>} (<a id="x:8" class="idref" href="#x:8"><span class="id" title="binder">x</span></a> : <a class="idref" href="FreeSpec.Core.Hoare.html#2da0b50a22a61fa2ece028fab9967e32"><span class="id" title="variable">α</span></a>) : <a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#f525610baade8c1419220d275a93fff0"><span class="id" title="variable">Σ</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#2da0b50a22a61fa2ece028fab9967e32"><span class="id" title="variable">α</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="FreeSpec.Core.Hoare.html#mk_hoare"><span class="id" title="constructor">mk_hoare</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>) (<span class="id" title="keyword">fun</span> <a id="s:9" class="idref" href="#s:9"><span class="id" title="binder">s</span></a> <a id="y:10" class="idref" href="#y:10"><span class="id" title="binder">y</span></a> <a id="s':11" class="idref" href="#s':11"><span class="id" title="binder">s'</span></a> ⇒ <a class="idref" href="FreeSpec.Core.Hoare.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#y:10"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#s:9"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#s':11"><span class="id" title="variable">s'</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="hoare_bind" class="idref" href="#hoare_bind"><span class="id" title="definition">hoare_bind</span></a> {<a id="6065d52c95091350a1253a1d7148d2c7" class="idref" href="#6065d52c95091350a1253a1d7148d2c7"><span class="id" title="binder">Σ</span></a> <a id="735d886dab4ed68ebb289e88433f8410" class="idref" href="#735d886dab4ed68ebb289e88433f8410"><span class="id" title="binder">α</span></a> <a id="1ac9204f83346a7d4a5e5eb94b4b7705" class="idref" href="#1ac9204f83346a7d4a5e5eb94b4b7705"><span class="id" title="binder">β</span></a>} (<a id="h:15" class="idref" href="#h:15"><span class="id" title="binder">h</span></a> : <a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#6065d52c95091350a1253a1d7148d2c7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#735d886dab4ed68ebb289e88433f8410"><span class="id" title="variable">α</span></a>) (<a id="k:16" class="idref" href="#k:16"><span class="id" title="binder">k</span></a> : <a class="idref" href="FreeSpec.Core.Hoare.html#735d886dab4ed68ebb289e88433f8410"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#6065d52c95091350a1253a1d7148d2c7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#1ac9204f83346a7d4a5e5eb94b4b7705"><span class="id" title="variable">β</span></a>) : <a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#6065d52c95091350a1253a1d7148d2c7"><span class="id" title="variable">Σ</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#1ac9204f83346a7d4a5e5eb94b4b7705"><span class="id" title="variable">β</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="FreeSpec.Core.Hoare.html#mk_hoare"><span class="id" title="constructor">mk_hoare</span></a> (<span class="id" title="keyword">fun</span> <a id="s:22" class="idref" href="#s:22"><span class="id" title="binder">s</span></a> ⇒ <a class="idref" href="FreeSpec.Core.Hoare.html#pre"><span class="id" title="projection">pre</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#h:15"><span class="id" title="variable">h</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#s:22"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:23" class="idref" href="#x:23"><span class="id" title="binder">x</span></a> <a id="s':24" class="idref" href="#s':24"><span class="id" title="binder">s'</span></a>, <a class="idref" href="FreeSpec.Core.Hoare.html#post"><span class="id" title="projection">post</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#h:15"><span class="id" title="variable">h</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#s:22"><span class="id" title="variable">s</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#x:23"><span class="id" title="variable">x</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#s':24"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#pre"><span class="id" title="projection">pre</span></a> (<a class="idref" href="FreeSpec.Core.Hoare.html#k:16"><span class="id" title="variable">k</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#x:23"><span class="id" title="variable">x</span></a>) <a class="idref" href="FreeSpec.Core.Hoare.html#s':24"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="s:17" class="idref" href="#s:17"><span class="id" title="binder">s</span></a> <a id="x:18" class="idref" href="#x:18"><span class="id" title="binder">x</span></a> <a id="s'':19" class="idref" href="#s'':19"><span class="id" title="binder">s''</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:20" class="idref" href="#y:20"><span class="id" title="binder">y</span></a> <a id="s':21" class="idref" href="#s':21"><span class="id" title="binder">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#post"><span class="id" title="projection">post</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#h:15"><span class="id" title="variable">h</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#s:17"><span class="id" title="variable">s</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#y:20"><span class="id" title="variable">y</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#s':21"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#post"><span class="id" title="projection">post</span></a> (<a class="idref" href="FreeSpec.Core.Hoare.html#k:16"><span class="id" title="variable">k</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#y:20"><span class="id" title="variable">y</span></a>) <a class="idref" href="FreeSpec.Core.Hoare.html#s':21"><span class="id" title="variable">s'</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#x:18"><span class="id" title="variable">x</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#s'':19"><span class="id" title="variable">s''</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab32"></a><h1 class="section">Instances</h1>

<div class="paragraph"> </div>

<a id="lab33"></a><h2 class="section">Functor</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="hoare_map" class="idref" href="#hoare_map"><span class="id" title="definition">hoare_map</span></a> {<a id="7fd4a516bfc23c1706437f236b640793" class="idref" href="#7fd4a516bfc23c1706437f236b640793"><span class="id" title="binder">Σ</span></a> <a id="1add768299a84c22e7ea1785eec38322" class="idref" href="#1add768299a84c22e7ea1785eec38322"><span class="id" title="binder">α</span></a> <a id="e0efbd9d474f8eb4c8810f930d8ab5f1" class="idref" href="#e0efbd9d474f8eb4c8810f930d8ab5f1"><span class="id" title="binder">β</span></a>} (<a id="f:28" class="idref" href="#f:28"><span class="id" title="binder">f</span></a> : <a class="idref" href="FreeSpec.Core.Hoare.html#1add768299a84c22e7ea1785eec38322"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#e0efbd9d474f8eb4c8810f930d8ab5f1"><span class="id" title="variable">β</span></a>) (<a id="h:29" class="idref" href="#h:29"><span class="id" title="binder">h</span></a> : <a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#7fd4a516bfc23c1706437f236b640793"><span class="id" title="variable">Σ</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#1add768299a84c22e7ea1785eec38322"><span class="id" title="variable">α</span></a>) : <a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#7fd4a516bfc23c1706437f236b640793"><span class="id" title="variable">Σ</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#e0efbd9d474f8eb4c8810f930d8ab5f1"><span class="id" title="variable">β</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="FreeSpec.Core.Hoare.html#hoare_bind"><span class="id" title="definition">hoare_bind</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#h:29"><span class="id" title="variable">h</span></a> (<span class="id" title="keyword">fun</span> <a id="x:30" class="idref" href="#x:30"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="FreeSpec.Core.Hoare.html#hoare_pure"><span class="id" title="definition">hoare_pure</span></a> (<a class="idref" href="FreeSpec.Core.Hoare.html#f:28"><span class="id" title="variable">f</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#x:30"><span class="id" title="variable">x</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="hoare_Functor" class="idref" href="#hoare_Functor"><span class="id" title="instance">hoare_Functor</span></a> <a id="7374d4818eab9c7e7a123322e5aab0bf" class="idref" href="#7374d4818eab9c7e7a123322e5aab0bf"><span class="id" title="binder">Σ</span></a> : <span class="id" title="class">Functor</span> (<a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#7374d4818eab9c7e7a123322e5aab0bf"><span class="id" title="variable">Σ</span></a>) :=<br/>
&nbsp;&nbsp;{ <span class="id" title="method">fmap</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="FreeSpec.Core.Hoare.html#hoare_map"><span class="id" title="definition">hoare_map</span></a> }.<br/>

<br/>
</div>

<div class="doc">
<a id="lab34"></a><h2 class="section">Applicative</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="hoare_apply" class="idref" href="#hoare_apply"><span class="id" title="definition">hoare_apply</span></a> {<a id="1beca3efe5883c5b6c82a78600a11ca9" class="idref" href="#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="binder">Σ</span></a> <a id="b0d0298a1c29a92de99c7ffcfa1c1a2f" class="idref" href="#b0d0298a1c29a92de99c7ffcfa1c1a2f"><span class="id" title="binder">α</span></a> <a id="b809e30a6b3f1ffc1c0111874e185b04" class="idref" href="#b809e30a6b3f1ffc1c0111874e185b04"><span class="id" title="binder">β</span></a>} (<a id="hf:35" class="idref" href="#hf:35"><span class="id" title="binder">hf</span></a> : <a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="FreeSpec.Core.Hoare.html#b0d0298a1c29a92de99c7ffcfa1c1a2f"><span class="id" title="variable">α</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#b809e30a6b3f1ffc1c0111874e185b04"><span class="id" title="variable">β</span></a>)) (<a id="h:36" class="idref" href="#h:36"><span class="id" title="binder">h</span></a> : <a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#b0d0298a1c29a92de99c7ffcfa1c1a2f"><span class="id" title="variable">α</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#1beca3efe5883c5b6c82a78600a11ca9"><span class="id" title="variable">Σ</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#b809e30a6b3f1ffc1c0111874e185b04"><span class="id" title="variable">β</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="FreeSpec.Core.Hoare.html#hoare_bind"><span class="id" title="definition">hoare_bind</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#hf:35"><span class="id" title="variable">hf</span></a> (<span class="id" title="keyword">fun</span> <a id="f:37" class="idref" href="#f:37"><span class="id" title="binder">f</span></a> ⇒ <a class="idref" href="FreeSpec.Core.Hoare.html#hoare_map"><span class="id" title="definition">hoare_map</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#f:37"><span class="id" title="variable">f</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#h:36"><span class="id" title="variable">h</span></a>).<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a id="hoare_Applicative" class="idref" href="#hoare_Applicative"><span class="id" title="instance">hoare_Applicative</span></a> : <span class="id" title="class">Applicative</span> (<a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <span class="id" title="var">Σ</span>) :=<br/>
&nbsp;&nbsp;{ <span class="id" title="method">ap</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="FreeSpec.Core.Hoare.html#hoare_apply"><span class="id" title="definition">hoare_apply</span></a><br/>
&nbsp;&nbsp;; <span class="id" title="method">pure</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="FreeSpec.Core.Hoare.html#hoare_pure"><span class="id" title="definition">hoare_pure</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc">
<a id="lab35"></a><h2 class="section">Monad</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Instance</span> <a id="hoare_Monad" class="idref" href="#hoare_Monad"><span class="id" title="instance">hoare_Monad</span></a> <a id="35567acd9698191de072da28ede88db8" class="idref" href="#35567acd9698191de072da28ede88db8"><span class="id" title="binder">Σ</span></a> : <span class="id" title="class">Monad</span> (<a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#35567acd9698191de072da28ede88db8"><span class="id" title="variable">Σ</span></a>) :=<br/>
&nbsp;&nbsp;{ <span class="id" title="method">ret</span> := @<a class="idref" href="FreeSpec.Core.Hoare.html#hoare_pure"><span class="id" title="definition">hoare_pure</span></a> <span class="id" title="var">Σ</span>; <span class="id" title="method">bind</span> := @<a class="idref" href="FreeSpec.Core.Hoare.html#hoare_bind"><span class="id" title="definition">hoare_bind</span></a> <span class="id" title="var">Σ</span> }.<br/>

<br/>
</div>

<div class="doc">
<a id="lab36"></a><h1 class="section">Reasoning about Programs</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="interface_to_hoare" class="idref" href="#interface_to_hoare"><span class="id" title="definition">interface_to_hoare</span></a> `{<a id="H:42" class="idref" href="#H:42"><span class="id" title="binder">MayProvide</span></a> <a id="H:42" class="idref" href="#H:42"><span class="id" title="binder">ix</span></a> <a id="H:42" class="idref" href="#H:42"><span class="id" title="binder">i</span></a>} `(<a id="c:44" class="idref" href="#c:44"><span class="id" title="binder">c</span></a> : <a class="idref" href="FreeSpec.Core.Contract.html#contract"><span class="id" title="record">contract</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#i:41"><span class="id" title="variable">i</span></a> <a id="c0483d53255b56183547b8214c9bca75" class="idref" href="#c0483d53255b56183547b8214c9bca75"><span class="id" title="binder">Ω</span></a>) : <a class="idref" href="FreeSpec.Core.Hoare.html#ix:40"><span class="id" title="variable">ix</span></a> <a class="idref" href="FreeSpec.Core.Init.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#c0483d53255b56183547b8214c9bca75"><span class="id" title="variable">Ω</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="a:45" class="idref" href="#a:45"><span class="id" title="binder">a</span></a> <a id="e:46" class="idref" href="#e:46"><span class="id" title="binder">e</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="FreeSpec.Core.Hoare.html#pre"><span class="id" title="projection">pre</span></a> := <span class="id" title="keyword">fun</span> <a id="2a02e79b47e68b268c2113f4e7326b96" class="idref" href="#2a02e79b47e68b268c2113f4e7326b96"><span class="id" title="binder">ω</span></a> ⇒ <a class="idref" href="FreeSpec.Core.Contract.html#gen_caller_obligation"><span class="id" title="definition">gen_caller_obligation</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#c:44"><span class="id" title="variable">c</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#2a02e79b47e68b268c2113f4e7326b96"><span class="id" title="variable">ω</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#e:46"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; <a class="idref" href="FreeSpec.Core.Hoare.html#post"><span class="id" title="projection">post</span></a> := <span class="id" title="keyword">fun</span> <a id="eebb12b793d1fc7f3c655ef4aa73a116" class="idref" href="#eebb12b793d1fc7f3c655ef4aa73a116"><span class="id" title="binder">ω</span></a> <a id="x:48" class="idref" href="#x:48"><span class="id" title="binder">x</span></a> <a id="14b06579daba54f1275a4126c3f39a7e" class="idref" href="#14b06579daba54f1275a4126c3f39a7e"><span class="id" title="binder">ω'</span></a> ⇒ <a class="idref" href="FreeSpec.Core.Contract.html#gen_callee_obligation"><span class="id" title="definition">gen_callee_obligation</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#c:44"><span class="id" title="variable">c</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#eebb12b793d1fc7f3c655ef4aa73a116"><span class="id" title="variable">ω</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#e:46"><span class="id" title="variable">e</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#x:48"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#14b06579daba54f1275a4126c3f39a7e"><span class="id" title="variable">ω'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.12.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="FreeSpec.Core.Contract.html#gen_witness_update"><span class="id" title="definition">gen_witness_update</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#c:44"><span class="id" title="variable">c</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#eebb12b793d1fc7f3c655ef4aa73a116"><span class="id" title="variable">ω</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#e:46"><span class="id" title="variable">e</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#x:48"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="to_hoare" class="idref" href="#to_hoare"><span class="id" title="definition">to_hoare</span></a> `{<a id="H:53" class="idref" href="#H:53"><span class="id" title="binder">MayProvide</span></a> <a id="H:53" class="idref" href="#H:53"><span class="id" title="binder">ix</span></a> <a id="H:53" class="idref" href="#H:53"><span class="id" title="binder">i</span></a>} `(<a id="c:55" class="idref" href="#c:55"><span class="id" title="binder">c</span></a> : <a class="idref" href="FreeSpec.Core.Contract.html#contract"><span class="id" title="record">contract</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#i:52"><span class="id" title="variable">i</span></a> <a id="d5edfe0e9abf810c3c5b9388e9518a98" class="idref" href="#d5edfe0e9abf810c3c5b9388e9518a98"><span class="id" title="binder">Ω</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="FreeSpec.Core.Impure.html#impure"><span class="id" title="inductive">impure</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#ix:51"><span class="id" title="variable">ix</span></a> <a class="idref" href="FreeSpec.Core.Init.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#hoare"><span class="id" title="record">hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#d5edfe0e9abf810c3c5b9388e9518a98"><span class="id" title="variable">Ω</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="FreeSpec.Core.Impure.html#impure_lift"><span class="id" title="definition">impure_lift</span></a> (<a class="idref" href="FreeSpec.Core.Hoare.html#interface_to_hoare"><span class="id" title="definition">interface_to_hoare</span></a> <a class="idref" href="FreeSpec.Core.Hoare.html#c:55"><span class="id" title="variable">c</span></a>).<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="FreeSpec.Core.Hoare.html#to_hoare"><span class="id" title="definition">to_hoare</span></a> {<span class="id" title="var">ix</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">Ω</span>} <span class="id" title="var">c</span> {<span class="id" title="var">α</span>} <span class="id" title="var">_</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>